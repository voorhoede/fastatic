<!DOCTYPE html><!--[if IE]><![endif]--><html><head><meta charset=utf-8><meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible><title>Server-side Environments | React</title><meta content="width=device-width" name=viewport><meta content="Server-side Environments | React" property=og:title><meta content=website property=og:type><meta content=https://facebook.github.io/fastastic/examples/react/docs/environments.html property=og:url><meta content=https://facebook.github.io/fastastic/examples/react/img/logo_og.png property=og:image><meta content="A JavaScript library for building user interfaces" property=og:description><meta content=623268441017527 property=fb:app_id><link href=/fastastic/examples/react/favicon.ico rel="shortcut icon"><link href=https://facebook.github.io/fastastic/examples/react/feed.xml rel=alternate title=React type=application/rss+xml><link href=https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css rel=stylesheet><link href=/fastastic/examples/react/css/syntax.css rel=stylesheet><link href=/fastastic/examples/react/css/codemirror.css rel=stylesheet><link href=/fastastic/examples/react/css/react.css rel=stylesheet><script src=//use.typekit.net/vqa1hcx.js></script><script>try{Typekit.load()}catch(e){}</script><!--[if lte IE 8]>
  <script src="/fastastic/examples/react/js/html5shiv.min.js"></script>
  <script src="/fastastic/examples/react/js/es5-shim.min.js"></script>
  <script src="/fastastic/examples/react/js/es5-sham.min.js"></script>
  <![endif]--><script src=https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js></script><script src=/fastastic/examples/react/js/codemirror.js></script><script src=/fastastic/examples/react/js/javascript.js></script><script src=/fastastic/examples/react/js/xml.js></script><script src=/fastastic/examples/react/js/jsx.js></script><script src=/fastastic/examples/react/js/react.js></script><script src=/fastastic/examples/react/js/react-dom.js></script><script src=/fastastic/examples/react/js/babel-browser.min.js></script><script src=/fastastic/examples/react/js/live_editor.js></script></head><body><div class=container><div class=nav-main><div class=wrap><a href=/fastastic/examples/react/index.html class=nav-home><img class=nav-logo height=36 src=/fastastic/examples/react/img/logo.svg width=36> React</a><ul class="nav-site nav-site-internal"><li><a href=/fastastic/examples/react/docs/getting-started.html class=active>Docs</a></li><li><a href=/fastastic/examples/react/support.html>Support</a></li><li><a href=/fastastic/examples/react/downloads.html>Download</a></li><li><a href=/fastastic/examples/react/blog/ >Blog</a></li><li><input id=algolia-doc-search placeholder="Search docs..." type=text></li></ul><ul class="nav-site nav-site-external"><li><a href=https://github.com/facebook/react>GitHub</a></li><li><a href=https://facebook.github.io/react-native/ >React Native</a></li></ul></div></div><section class="wrap content documentationContent"><div class=nav-docs><!-- Docs Nav --><div class=nav-docs-section><h3>Quick Start</h3><ul><li><a href=/fastastic/examples/react/docs/getting-started.html>Getting Started</a></li><li><a href=/fastastic/examples/react/docs/tutorial.html>Tutorial</a></li><li><a href=/fastastic/examples/react/docs/thinking-in-react.html>Thinking in React</a></li></ul></div><div class=nav-docs-section><h3>Community Resources</h3><ul><li><a href=/fastastic/examples/react/docs/conferences.html>Conferences</a></li><li><a href=/fastastic/examples/react/docs/videos.html>Videos</a></li><li><a href=https://github.com/facebook/fastastic/examples/react/wiki/Complementary-Tools class=external>Complementary Tools</a></li><li><a href=https://github.com/facebook/fastastic/examples/react/wiki/Examples class=external>Examples</a></li></ul></div><div class=nav-docs-section><h3>Guides</h3><ul><li><a href=/fastastic/examples/react/docs/why-react.html>Why React?</a></li><li><a href=/fastastic/examples/react/docs/displaying-data.html>Displaying Data</a><ul><li><a href=/fastastic/examples/react/docs/jsx-in-depth.html>JSX in Depth</a></li><li><a href=/fastastic/examples/react/docs/jsx-spread.html>JSX Spread Attributes</a></li><li><a href=/fastastic/examples/react/docs/jsx-gotchas.html>JSX Gotchas</a></li></ul></li><li><a href=/fastastic/examples/react/docs/interactivity-and-dynamic-uis.html>Interactivity and Dynamic UIs</a></li><li><a href=/fastastic/examples/react/docs/multiple-components.html>Multiple Components</a></li><li><a href=/fastastic/examples/react/docs/reusable-components.html>Reusable Components</a></li><li><a href=/fastastic/examples/react/docs/transferring-props.html>Transferring Props</a></li><li><a href=/fastastic/examples/react/docs/forms.html>Forms</a></li><li><a href=/fastastic/examples/react/docs/working-with-the-browser.html>Working With the Browser</a><ul><li><a href=/fastastic/examples/react/docs/more-about-refs.html>Refs to Components</a></li></ul></li><li><a href=/fastastic/examples/react/docs/tooling-integration.html>Tooling Integration</a><ul><li><a href=/fastastic/examples/react/docs/language-tooling.html>Language Tooling</a></li><li><a href=/fastastic/examples/react/docs/package-management.html>Package Management</a></li><li><a href=/fastastic/examples/react/docs/environments.html class=active>Server-side Environments</a></li></ul></li><li><a href=/fastastic/examples/react/docs/addons.html>Add-Ons</a><ul><li><a href=/fastastic/examples/react/docs/animation.html>Animation</a></li><li><a href=/fastastic/examples/react/docs/two-way-binding-helpers.html>Two-Way Binding Helpers</a></li><li><a href=/fastastic/examples/react/docs/test-utils.html>Test Utilities</a></li><li><a href=/fastastic/examples/react/docs/clone-with-props.html>Cloning Elements</a></li><li><a href=/fastastic/examples/react/docs/create-fragment.html>Keyed Fragments</a></li><li><a href=/fastastic/examples/react/docs/update.html>Immutability Helpers</a></li><li><a href=/fastastic/examples/react/docs/pure-render-mixin.html>PureRenderMixin</a></li><li><a href=/fastastic/examples/react/docs/perf.html>Performance Tools</a></li><li><a href=/fastastic/examples/react/docs/shallow-compare.html>Shallow Compare</a></li></ul></li><li><a href=/fastastic/examples/react/docs/advanced-performance.html>Advanced Performance</a></li><li><a href=/fastastic/examples/react/docs/context.html>Context</a></li></ul></div><div class=nav-docs-section><h3>Reference</h3><ul><li><a href=/fastastic/examples/react/docs/top-level-api.html>Top-Level API</a></li><li><a href=/fastastic/examples/react/docs/component-api.html>Component API</a></li><li><a href=/fastastic/examples/react/docs/component-specs.html>Component Specs and Lifecycle</a></li><li><a href=/fastastic/examples/react/docs/tags-and-attributes.html>Supported Tags and Attributes</a></li><li><a href=/fastastic/examples/react/docs/events.html>Event System</a></li><li><a href=/fastastic/examples/react/docs/dom-differences.html>DOM Differences</a></li><li><a href=/fastastic/examples/react/docs/special-non-dom-attributes.html>Special Non-DOM Attributes</a></li><li><a href=/fastastic/examples/react/docs/reconciliation.html>Reconciliation</a></li><li><a href=/fastastic/examples/react/docs/webcomponents.html>Web Components</a></li><li><a href=/fastastic/examples/react/docs/glossary.html>React (Virtual) DOM Terminology</a></li></ul></div><!-- Tips Nav --><div class=nav-docs-section><h3>Tips</h3><ul><li><a href=/fastastic/examples/react/tips/introduction.html>Introduction</a></li><li><a href=/fastastic/examples/react/tips/inline-styles.html>Inline Styles</a></li><li><a href=/fastastic/examples/react/tips/if-else-in-JSX.html>If-Else in JSX</a></li><li><a href=/fastastic/examples/react/tips/self-closing-tag.html>Self-Closing Tag</a></li><li><a href=/fastastic/examples/react/tips/maximum-number-of-jsx-root-nodes.html>Maximum Number of JSX Root Nodes</a></li><li><a href=/fastastic/examples/react/tips/style-props-value-px.html>Shorthand for Specifying Pixel Values in style props</a></li><li><a href=/fastastic/examples/react/tips/children-props-type.html>Type of the Children props</a></li><li><a href=/fastastic/examples/react/tips/controlled-input-null-value.html>Value of null for Controlled Input</a></li><li><a href=/fastastic/examples/react/tips/componentWillReceiveProps-not-triggered-after-mounting.html>componentWillReceiveProps Not Triggered After Mounting</a></li><li><a href=/fastastic/examples/react/tips/props-in-getInitialState-as-anti-pattern.html>Props in getInitialState Is an Anti-Pattern</a></li><li><a href=/fastastic/examples/react/tips/dom-event-listeners.html>DOM Event Listeners in a Component</a></li><li><a href=/fastastic/examples/react/tips/initial-ajax.html>Load Initial Data via AJAX</a></li><li><a href=/fastastic/examples/react/tips/false-in-jsx.html>False in JSX</a></li><li><a href=/fastastic/examples/react/tips/communicate-between-components.html>Communicate Between Components</a></li><li><a href=/fastastic/examples/react/tips/expose-component-functions.html>Expose Component Functions</a></li><li><a href=/fastastic/examples/react/tips/children-undefined.html>this.props.children undefined</a></li><li><a href=/fastastic/examples/react/tips/use-react-with-other-libraries.html>Use React with Other Libraries</a></li><li><a href=/fastastic/examples/react/tips/dangerously-set-inner-html.html>Dangerously Set innerHTML</a></li></ul></div><!-- Contributing Nav --><div class=nav-docs-section><h3>Contributing</h3><ul><li><a href=/fastastic/examples/react/contributing/design-principles.html>Design Principles</a></li></ul></div></div><div class=inner-content><a href=https://github.com/facebook/fastastic/examples/react/tree/master/docs/docs/09.3-environments.md class=edit-page-link target=_blank>Edit on GitHub</a><h1>Server-side Environments</h1><div class=subHeader></div><p>One of the great things about React is that it doesn&#39;t require the DOM as a dependency, which means it is possible to render a React application on the server and send the HTML markup down to the client. There are a few things that React expects, so this guide will help you get started in your preferred environment.</p><h2><a class=anchor name=node.js></a>Node.js <a href=#node.js class=hash-link>#</a></h2><p><a href=http://nodejs.org/ >Node.js</a> is a popular JavaScript runtime that comes with an extensive core library and support for installing packages from npm to expand on the basic functionality. As we&#39;ve described elsewhere in the documentation, you can install <code>react</code> and <code>react-dom</code> from npm.</p><p>Example:</p><div class=highlight><pre><code class=language-js data-lang=js><span class=kd>var</span> <span class=nx>React</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;react&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>ReactDOMServer</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;react-dom/server&#39;</span><span class=p>);</span>

<span class=kd>var</span> <span class=nx>element</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s1>&#39;div&#39;</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=s1>&#39;Hello World!&#39;</span><span class=p>);</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>ReactDOMServer</span><span class=p>.</span><span class=nx>renderToString</span><span class=p>(</span><span class=nx>element</span><span class=p>));</span>
</code></pre></div><p>If you use JSX, you may want to pre-compile your components. Alternatively you may want to consider using <a href=https://babeljs.io/docs/usage/require/ >Babel&#39;s require hook</a> or <a href=https://babeljs.io/docs/usage/cli/#babel-node><code>babel-node</code></a>.</p><blockquote><p>Note:</p><p>Some versions of Node.js have an <code>Object.assign</code> implementation that does not preserve key order. This can cause errors when validating the markup, creating a warning that says &quot;React attempted to reuse markup in a container but the checksum was invalid&quot;. If you run into this issue, you can override <code>Object.assign</code> to use a polyfill that preserves key order. For more details, see <a href=https://github.com/facebook/fastastic/examples/react/issues/6451>Issue #6451</a>.</p></blockquote><h1><a class=anchor name=c></a>C# <a href=#c class=hash-link>#</a></h1><p>Support for server-side component rendering and JSX compilation (via Babel) in a .NET Framework / ASP.NET environment is provided through our <a href=http://reactjs.net/ >ReactJS.NET</a> project.</p><h2><a class=anchor name=nashorn></a>Nashorn <a href=#nashorn class=hash-link>#</a></h2><p>Nashorn is a lightweight high-performance JavaScript runtime that runs within the JVM. React should run out of the box in Java 8+.</p><p>Example:</p><div class=highlight><pre><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>java.io.IOException</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.io.InputStream</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.io.FileReader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>javax.script.ScriptEngine</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.script.ScriptEngineManager</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.script.ScriptException</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>ReactRender</span>
<span class=o>{</span>
  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>ScriptException</span><span class=o>,</span> <span class=n>IOException</span> <span class=o>{</span>
    <span class=n>ScriptEngine</span> <span class=n>nashorn</span> <span class=o>=</span> <span class=k>new</span> <span class=nf>ScriptEngineManager</span><span class=o>().</span><span class=na>getEngineByName</span><span class=o>(</span><span class=s>&quot;nashorn&quot;</span><span class=o>);</span>

    <span class=c1>// These files can be downloaded as a part of the starter kit</span>
    <span class=c1>// from https://facebook.github.io/react</span>
    <span class=n>nashorn</span><span class=o>.</span><span class=na>eval</span><span class=o>(</span><span class=k>new</span> <span class=nf>FileReader</span><span class=o>(</span><span class=s>&quot;path/to/react.js&quot;</span><span class=o>));</span>
    <span class=n>nashorn</span><span class=o>.</span><span class=na>eval</span><span class=o>(</span><span class=k>new</span> <span class=nf>FileReader</span><span class=o>(</span><span class=s>&quot;path/to/react-dom-server.js&quot;</span><span class=o>));</span>

    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>nashorn</span><span class=o>.</span><span class=na>eval</span><span class=o>(</span>
      <span class=s>&quot;ReactDOMServer.renderToString(&quot;</span> <span class=o>+</span>
        <span class=s>&quot;React.createElement(&#39;div&#39;, null, &#39;Hello World!&#39;)&quot;</span> <span class=o>+</span>
      <span class=s>&quot;);&quot;</span>
    <span class=o>));</span>
  <span class=o>}</span>
<span class=o>}</span>
</code></pre></div><p>If your application uses npm packages, or you want to transform JSX in Nashorn, you will need to do some additional environment setup. The following resources may be helpful in getting you started:</p><ul><li><a href=http://winterbe.com/posts/2015/02/16/isomorphic-react-webapps-on-the-jvm/ >http://winterbe.com/posts/2015/02/16/isomorphic-react-webapps-on-the-jvm/</a></li><li><a href=https://github.com/nodyn/jvm-npm>https://github.com/nodyn/jvm-npm</a></li><li><a href=https://gist.github.com/aesteve/883e0fd33390451cb8eb>https://gist.github.com/aesteve/883e0fd33390451cb8eb</a></li></ul><blockquote><p>Note:</p><p>Using Babel within Nashorn will require Java 8u72+, as update 72 fixed <a href=https://bugs.openjdk.java.net/browse/JDK-8135190>JDK-8135190</a>.</p></blockquote><div class=docs-prevnext><a href=/fastastic/examples/react/docs/package-management.html class=docs-prev>&larr; Prev</a> <a href=/fastastic/examples/react/docs/addons.html class=docs-next>Next &rarr;</a></div></div></section><footer class=wrap><div class=left>A Facebook &amp; Instagram collaboration.<br><a href=/fastastic/examples/react/acknowledgements.html>Acknowledgements</a></div><div class=right>&copy; 2013&ndash;2016 Facebook Inc.<br>Documentation licensed under <a href=https://creativecommons.org/licenses/by/4.0/ >CC BY 4.0</a>.</div></footer></div><div id=fb-root></div><script>!function(e,t,n,a,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(n),s=t.getElementsByTagName(n)[0],o.async=1,o.src=a,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-41298772-1","facebook.github.io"),ga("send","pageview"),!function(e,t,n){var a,c=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.src="https://platform.twitter.com/widgets.js",c.parentNode.insertBefore(a,c))}(document,"script","twitter-wjs"),function(e,t,n){var a,c=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=623268441017527",c.parentNode.insertBefore(a,c))}(document,"script","facebook-jssdk"),docsearch({apiKey:"36221914cce388c46d0420343e0bb32e",indexName:"react",inputSelector:"#algolia-doc-search"})</script></body></html>